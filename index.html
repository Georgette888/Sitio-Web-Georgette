<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Georgette Mora – Abogada</title>

  <style>
    body {margin:0; font-family: Arial, sans-serif; background:#f9fafb; color:#111;}
    header, section {padding:60px 20px; text-align:center;}
    h2 {font-size:1.8rem; margin-bottom:20px; color:#0f4f45;}
    nav {position:fixed; top:0; width:100%; background:#0f4f45; z-index:1000;}
    nav ul {display:flex; list-style:none; margin:0; padding:10px; justify-content:center;}
    nav li {margin:0 15px;}
    nav a {color:white; text-decoration:none; font-weight:600;}
    nav a:hover {text-decoration:underline;}
    
    /* Portadas */
    .hero {
      background:url('reloj.jpg') no-repeat center 40%/cover;
      color:white; height:100vh;
      display:flex; align-items:center; justify-content:center; flex-direction:column;
    }
    .hero h1 {font-size:2.5rem; margin:0;}
    .hero p {font-size:1.2rem;}

    /* Secciones con portadas */
    .bg-lago {background:url('Lago Chungara.jpg') no-repeat center/cover; color:white;}
    .bg-morro {background:url('Morro de Arica.jpg') no-repeat center/cover; color:white;}

    /* Tarjetas jurisprudencia */
    #jurisprudencia .col {display:grid; gap:20px;}
    .jur-card{
      background:#fff; border-radius:14px; padding:22px; text-align:left;
      box-shadow:0 8px 24px rgba(0,0,0,.08);
    }
    .jur-title{font-size:1.15rem; color:#0f4f45;}
    .jur-rol{font-weight:600; margin:4px 0;}
    .jur-meta{font-size:.85rem; color:#6b7280; margin:4px 0 12px;}
    .jur-body p{margin:10px 0; line-height:1.6; text-align:justify;}
    .jur-keywords{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;}
    .jur-keywords .chip{
      background:#f3f4f6; border:1px solid #e5e7eb; padding:4px 8px; border-radius:999px;
      font-size:.8rem; color:#374151;
    }
    .btn-link{
      display:inline-block; margin-top:12px; padding:10px 14px; border-radius:10px;
      background:#0f4f45; color:#fff; text-decoration:none; font-weight:700;
    }

    /* Formulario */
    form {max-width:500px; margin:0 auto; text-align:left;}
    form input, form textarea {
      width:100%; padding:12px; margin:8px 0;
      border:1px solid #ccc; border-radius:6px;
    }
    form button {
      background:#036f4a; color:white; padding:12px 20px;
      border:none; border-radius:6px; cursor:pointer; font-size:1rem;
    }
    form button:hover {filter:brightness(.9);}
    .thanks {display:none; color:#0f4f45; font-weight:bold; margin-top:15px;}
  </style>
</head>
<body>

  <nav>
    <ul>
      <li><a href="#quien-soy">Quién soy</a></li>
      <li><a href="#areas">Áreas de práctica</a></li>
      <li><a href="#jurisprudencia">Jurisprudencia</a></li>
      <li><a href="#actualidad">Actualidad</a></li>
      <li><a href="#datos">Datos útiles</a></li>
      <li><a href="#contacto">Contacto</a></li>
    </ul>
  </nav>

  <header class="hero">
    <h1>Georgette Mora</h1>
    <p>Defensa clara y cercana para decisiones seguras</p>
  </header>

  <section id="quien-soy">
    <h2>Quién soy</h2>
    <p>Soy abogada litigante con más de 8 años de experiencia en defensa penal, civil, familia y laboral.
    Diplomada en Litigación Oral, Derecho Penal y Procesal Penal, entre otros.</p>
    <p><strong>Atención:</strong> remota a nivel nacional y presencial en Arica.</p>
  </section>

  <section id="areas" class="bg-lago">
    <h2>Áreas de práctica</h2>
    <ul style="list-style:none; padding:0; font-size:1.1rem;">
      <li>Derecho Penal</li>
      <li>Derecho de Familia</li>
      <li>Derecho Civil</li>
      <li>Derecho Laboral (tutela, ordinario, monitorio)</li>
    </ul>
  </section>

  <section id="jurisprudencia">
    <h2>Jurisprudencia comentada</h2>
    <div class="col" id="lista-juris"></div>
  </section>

  <section id="actualidad">
    <h2>Actualidad legal</h2>
    <p><a href="https://www.bcn.cl/leychile/navegar?idNorma=140084" target="_blank">
      Ley 21.760 – Nueva Ley de Adopción en Chile</a></p>
  </section>

  <section id="datos">
    <h2>Datos útiles</h2>
    <ul style="list-style:none; padding:0; font-size:1.1rem;">
      <li><a href="https://si3.bcentral.cl/Indicadoressiete/secure/IndicadoresDiarios.aspx" target="_blank">Indicadores Económicos (UF, UTM, Dólar)</a></li>
      <li><a href="https://ojv.pjud.cl/kpitec-ojv-web/tramite_facil" target="_blank">Trámite Fácil – Poder Judicial</a></li>
      <li><a href="https://agenda.minpublico.cl/denuncia/" target="_blank">Denuncia en línea – Ministerio Público</a></li>
    </ul>
  </section>

  <section id="contacto" class="bg-morro">
    <h2>Contacto</h2>
    <p>Manuel Blanco Encalada 938, Arica, Chile</p>
    <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field">
      <input type="hidden" name="form-name" value="contact">
      <p style="display:none"><input name="bot-field"></p>
      <input type="text" name="nombre" placeholder="Nombre" required>
      <input type="email" name="email" placeholder="Correo electrónico" required>
      <textarea name="mensaje" placeholder="Mensaje" required></textarea>
      <button type="submit">Enviar</button>
      <div class="thanks">¡Gracias! Tu mensaje fue enviado correctamente.</div>
    </form>
  </section>

<script>
document.addEventListener("DOMContentLoaded",()=>{
  const form=document.querySelector("form[name='contact']");
  form.addEventListener("submit",async(e)=>{
    e.preventDefault();
    const data=new FormData(form);
    try{
      await fetch("/",{method:"POST",body:data});
      form.querySelector(".thanks").style.display="block";
      form.reset();
    }catch(err){alert("Hubo un error al enviar. Intenta nuevamente.");}
  });
});
</script>

<script>
(async function cargarJurisprudencia(){
  const cont=document.getElementById('lista-juris');
  function escapeHtml(s){return String(s).replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));}
  function formatTexto(txt){
    const blocks=txt.split(/\n{2,}/);
    return blocks.map(b=>{
      if(/^\d+\.\s/m.test(b)){
        return '<ol>'+b.split(/\n/).map(l=>l?'<li>'+escapeHtml(l.replace(/^\d+\.\s*/,''))+'</li>':'').join('')+'</ol>';
      }
      return '<p>'+escapeHtml(b)+'</p>';
    }).join('');
  }
  try{
    const r=await fetch('contenido.json',{cache:'no-store'});
    const data=await r.json();
    const items=data.jurisprudencia||[];
    cont.innerHTML=items.map(it=>`
      <article class="jur-card">
        <h3 class="jur-title">${escapeHtml(it.titulo)}</h3>
        <p class="jur-rol">${escapeHtml(it.rol)}</p>
        <p class="jur-meta">${new Date(it.fecha).toLocaleDateString('es-CL')}</p>
        <div class="jur-body">${formatTexto(it.resumen)}</div>
        <div class="jur-keywords">${(it.palabras_clave||[]).map(t=>`<span class="chip">${escapeHtml(t)}</span>`).join('')}</div>
        ${it.enlace_fallo?`<a class="btn-link" href="${escapeHtml(it.enlace_fallo)}" target="_blank">Ver fallo</a>`:''}
      </article>`).join('');
  }catch(e){cont.innerHTML="<p>Error cargando jurisprudencia.</p>";}
})();
</script>

</body>
</html>
